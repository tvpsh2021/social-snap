# Threads Image Downloader

一個 Chrome 擴充功能，可以一鍵下載 Threads.com 貼文中的所有圖片。

## 功能特色

- 🖼️ 自動偵測 Threads 貼文中的所有圖片
- 🔍 顯示圖片縮圖預覽
- 📊 顯示可下載圖片總數
- ⬇️ 一鍵批量下載所有圖片
- 🎯 自動選擇最高解析度的圖片
- 📁 自動命名下載的圖片檔案
- 🖱️ 單擊縮圖即可下載個別圖片
- 🛡️ 智慧過濾留言區圖片
- 📱 支援 Instagram CDN 安全參數

## 安裝步驟

1. 下載或 clone 這個專案到本地
2. 打開 Chrome 瀏覽器
3. 進入 `chrome://extensions/`
4. 開啟右上角的「開發人員模式」
5. 點擊「載入未封裝項目」
6. 選擇這個專案的資料夾
7. 擴充功能就會出現在瀏覽器工具列中

## 使用方法

1. 前往任何 Threads.com 的貼文頁面
2. 點擊瀏覽器工具列中的擴充功能圖示
3. 等待程式分析頁面中的圖片
4. 查看縮圖預覽和圖片總數
5. **批量下載**：點擊「下載所有圖片」按鈕
6. **單張下載**：點擊任何縮圖即可下載該圖片
7. 圖片將自動下載到您的預設下載資料夾

## 技術實現

### 圖片偵測
- 使用 Content Script 分析頁面 DOM 結構
- 基於 `<picture>` 標籤識別圖片
- 透過 `alt` 屬性模式識別貼文圖片
- 解析 `srcset` 屬性找出最高解析度版本
- 智慧過濾留言區和非相關圖片

### 下載機制
- 使用 Chrome Downloads API 進行批量下載
- 自動生成帶時間戳的檔案名稱
- 智慧檔案副檔名檢測
- 添加下載間隔避免伺服器壓力
- 支援 Instagram CDN 安全參數

### 檔案結構
```
threads-downloader/
├── manifest.json          # 擴充功能配置
├── content.js             # 內容腳本 (頁面圖片提取)
├── background.js          # 背景服務 (下載處理)
├── popup.html            # 彈出視窗界面
├── popup.js              # 彈出視窗邏輯
├── icon.svg              # 擴充功能圖示
└── README.md             # 說明文件
```

## 注意事項

- 僅支援 Chrome 瀏覽器 (Manifest V3)
- 需要在 Threads.com 網站上使用
- 下載的圖片會保存在瀏覽器預設下載位置
- 請遵守版權法規，僅下載您有權使用的圖片

## 故障排除

### 無法偵測到圖片
- 確保您在 Threads 貼文頁面上
- 等待頁面完全載入後再開啟擴充功能
- 重新整理頁面後重試

### 下載失敗
- 檢查瀏覽器下載權限
- 確保有足夠的磁碟空間
- 檢查網路連線狀態

## 開發者資訊

這個擴充功能使用 Chrome Extension Manifest V3 開發，主要技術包括：
- Chrome Extensions API
- DOM 操作和圖片分析
- Chrome Downloads API
- 現代 JavaScript (ES6+)
- 智慧圖片過濾算法
